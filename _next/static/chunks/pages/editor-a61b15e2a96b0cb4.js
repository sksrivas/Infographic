(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{6805:(e,t,r)=>{"use strict";r.d(t,{i:()=>d,z:()=>u});var l=r(7876),a=r(7964),n=r(5039),i=r.n(n),o=r(7992),s=r(5784),c=r(4232);function d(e){let t,r,l,n,i,o=(0,a.c)(8),s=void 0===e?1500:e,[d,u]=(0,c.useState)(null),m=(0,c.useRef)(null);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{m.current&&(clearTimeout(m.current),m.current=null),u(null)},o[0]=t):t=o[0];let h=t;o[1]!==s?(r=e=>{m.current&&clearTimeout(m.current),u(e),m.current=setTimeout(()=>u(null),s)},o[1]=s,o[2]=r):r=o[2];let p=r;return o[3]===Symbol.for("react.memo_cache_sentinel")?(l=()=>()=>{m.current&&clearTimeout(m.current)},n=[],o[3]=l,o[4]=n):(l=o[3],n=o[4]),(0,c.useEffect)(l,n),o[5]!==d||o[6]!==p?(i={message:d,show:p,clear:h},o[5]=d,o[6]=p,o[7]=i):i=o[7],i}function u(e){let t,r,n=(0,a.c)(5),{message:c,className:d}=e;return n[0]!==d||n[1]!==c?(t=c?(0,l.jsxs)(o.P.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:12},transition:{duration:.25},className:i()("fixed bottom-8 right-8 z-[2000] rounded-full bg-link dark:bg-link-dark text-white px-5 py-2.5 shadow-lg font-medium text-sm",d),children:["✓ ",c]}):null,n[0]=d,n[1]=c,n[2]=t):t=n[2],n[3]!==t?(r=(0,l.jsx)(s.N,{children:t}),n[3]=t,n[4]=r):r=n[4],r}},8966:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/editor",function(){return r(9426)}])},9426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Y});var l=r(7876),a=r(7964),n=r(5035),i=r(6805),o=r(7992),s=r(2129),c=r(9099),d=r(4232);let u="infographic ".concat("list-row-simple-horizontal-arrow","\ndata\n  items\n    - label 步骤 1\n      desc 开始\n      icon mdi/lightbulb-on\n    - label 步骤 2\n      desc 规划\n      icon mdi/clipboard-text-outline\n    - label 步骤 3\n      desc 执行\n      icon mdi/rocket-launch-outline\n    - label 步骤 4\n      desc 检查\n      icon mdi/checklist\n    - label 步骤 5\n      desc 完成\n      icon mdi/check-circle");var m=r(4383),h=r(1852),p=r(4765),f=r(9476);let x=(0,d.memo)(function(e){let t,r,n=(0,a.c)(3);return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"}),n[0]=t):t=n[0],n[1]!==e?(r=(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.33em",height:"1.33em",viewBox:"0 -2 24 24",fill:"currentColor",...e,children:t}),n[1]=e,n[2]=r):r=n[2],r});var b=r(5241),g=r(2155);let v=e=>{var t,r;return null!=(r=null==(t=e.match(/^\s*/))?void 0:t[0].length)?r:0},k=e=>{for(let r=0;r<e.length;r+=1){let l=e[r].trim();if(l.startsWith("palette ")||"palette"===l){var t;let a=(null==(t=e[r].match(/^\s*/))?void 0:t[0])||"";if("palette"===l){let t=v(e[r]),l=[],n=r+1;for(;n<e.length;n+=1){let r=e[n],a=r.trim(),i=v(r);if(a&&i<=t)break;a.startsWith("-")&&l.push(a.slice(1).trim())}return{lineIndex:r,blockEnd:n,indent:a,value:l.join(" ")}}return{lineIndex:r,blockEnd:r+1,indent:a,value:l.slice(8).trim()}}}return null},w=e=>{let t=0;for(let r=0;r<e.length;r+=1){let l=e[r].trim();if(l){if(l.startsWith("infographic ")||l.startsWith("template ")){t=r+1;continue}if(l.startsWith("data"))break}}return t},y="live-editor-category-data",j=new Map(p.Q.map(e=>{let{template:t,syntax:r}=e;return[t,r]})),N={timeline:"list-column-simple-vertical-arrow",hierarchy:"hierarchy-tree-tech-style-capsule-item",compare:"compare-binary-horizontal-simple-fold",swot:"compare-swot",wordcloud:"chart-wordcloud",chart:"chart-bar-plain-text",quadrant:"quadrant-quarter-simple-card",relation:"relation-circle-icon-badge"},S=e=>{var t,r;return null!=(r=null==(t=e.match(/^\s*/))?void 0:t[0].length)?r:0},_=e=>{let t=e.findIndex(e=>e.trim().startsWith("data")&&0===S(e));if(t<0)return null;let r=S(e[t]),l=t+1;for(;l<e.length;l++){let t=e[l];if(t.trim()&&S(t)<=r)break}return{start:t,end:l}},E=e=>{let t=e.split("\n"),r=_(t);return r?t.slice(r.start,r.end).join("\n"):""},B=e=>{var t;let r=null!=(t=e.split("\n").map(e=>e.trim()).find(e=>e.length>0))?t:"";return r.startsWith("infographic ")?r.slice(12).trim():r.startsWith("template ")?r.slice(9).trim():""},C=e=>e?"compare-swot"===e?"swot":e.startsWith("hierarchy-")?"hierarchy":e.startsWith("compare-")?"compare":e.startsWith("swot-")?"swot":e.startsWith("chart-wordcloud")?"wordcloud":e.startsWith("chart-")?"chart":e.startsWith("quadrant-")?"quadrant":e.startsWith("relation-")?"relation":e.startsWith("list-column-")?"timeline":"list":null,W=()=>{try{let e=localStorage.getItem(y);if(!e)return{};let t=JSON.parse(e);if(!t||"object"!=typeof t)return{};return t}catch(e){return console.warn("Failed to read live editor category data.",e),{}}},L=(e,t)=>{if(!t.trim())return;let r=W();r[e]=t;try{localStorage.setItem(y,JSON.stringify(r))}catch(e){console.warn("Failed to store live editor category data.",e)}},F=(e,t)=>"chart"===e?(e=>{if(!e.trim())return e;let t=e.split("\n"),r=t.findIndex(e=>"items"===e.trim());if(r<0)return e;let l=S(t[r]),a=l+2,n=0,i=r+1;for(;i<t.length;){let e=t[i],r=e.trim();if(!r){i+=1;continue}let o=S(e);if(o<=l)break;if(o===a&&r.startsWith("-")){let e=i,o=r.startsWith("- value "),s=i+1;for(;s<t.length;s+=1){let e=t[s],r=e.trim();if(!r)continue;let n=S(e);if(n<=l||n===a&&r.startsWith("-"))break;n===a+2&&r.startsWith("value ")&&(o=!0)}if(!o){let r=(n+1)*10;t.splice(e+1,0,"".concat(" ".repeat(a+2),"value ").concat(r)),s+=1}n+=1,i=s;continue}i+=1}return t.join("\n")})((e=>{if(!e.trim())return e;let t=e.split("\n"),r=t.findIndex(e=>"items"===e.trim());if(r<0)return e;let l=S(t[r]),a=l+2,n=a+2,i=r+1;for(;i<t.length;){let e=t[i],r=e.trim();if(!r){i+=1;continue}let o=S(e);if(o<=l)break;if(o===a&&r.startsWith("-")){let e=i+1;for(;e<t.length;){let r=t[e],i=r.trim();if(!i){e+=1;continue}let o=S(r);if(o<=l||o===a&&i.startsWith("-"))break;if(o===n&&i.startsWith("children")){let r=e+1;for(;r<t.length;){let e=t[r];if(!e.trim()){r+=1;continue}if(S(e)<=o)break;r+=1}t.splice(e,r-e);continue}e+=1}i=e;continue}i+=1}return t.join("\n")})(t)):t,I=(e,t)=>{if(!t)return e;let r=e.split("\n"),l=_(r),a=t.split("\n");if(l)r.splice(l.start,l.end-l.start,...a);else{let e=(e=>{let t=0;for(let r=0;r<e.length;r++){let l=e[r].trim();if(l){if(l.startsWith("infographic ")||l.startsWith("template ")){t=r+1;continue}if(l.startsWith("theme "))return r}}return t})(r);r.splice(e,0,...a)}return r.join("\n")},T={"zh-CN":{title:"Syntax 编辑器",editorAria:"Infographic Syntax 编辑器",configTitle:"配置",templateLabel:"模板",themeLabel:"主题",paletteLabel:"配色",resetButton:"重置",shareButton:"分享",clearButton:"清空",searchPlaceholder:"搜索",noResults:"无匹配选项"},"en-US":{title:"Syntax Editor",editorAria:"Infographic Syntax Editor",configTitle:"Config",templateLabel:"Template",themeLabel:"Theme",paletteLabel:"Palette",resetButton:"Reset",shareButton:"Share",clearButton:"Clear",searchPlaceholder:"Search",noResults:"No results"}},P="__unknown_template__",M="__default_theme__",R="__default_palette__",z=[{label:"Sunset",value:"#e76f51 #f4a261 #e9c46a #2a9d8f #264653"},{label:"Deep Sea",value:"#001219 #005f73 #0a9396 #94d2bd #ee9b00 #ca6702 #bb3e03 #ae2012 #9b2226"},{label:"Slate Mint",value:"#0f172a #334155 #38bdf8 #a7f3d0 #fbbf24"}];function A(e){let{value:t,onChange:r,onShare:a,onReset:n}=e,i=(0,s.K)(T),o=(0,d.useMemo)(()=>(0,m.getTemplates)().sort(),[]),c=(0,d.useMemo)(()=>(0,m.getThemes)().sort(),[]),p=(0,d.useMemo)(()=>Object.keys((0,m.getPalettes)()).filter(e=>"antv"!==e).sort(),[]),v=(0,d.useMemo)(()=>[...p,...z.map(e=>e.value)],[p]),y=(0,d.useMemo)(()=>[{value:P,label:"unknown"},...o.map(e=>({value:e,label:e}))],[o]),S=(0,d.useMemo)(()=>[{value:M,label:"default"},...c.map(e=>({value:e,label:e}))],[c]),_=(0,d.useMemo)(()=>[{value:R,label:"default"},...p.map(e=>({value:e,label:e})),...z.map(e=>({value:e.value,label:e.label}))],[p]),[A,G]=(0,d.useState)(""),[V,O]=(0,d.useState)(""),[U,q]=(0,d.useState)("");(0,d.useEffect)(()=>{var e;let r=t.split("\n"),l=(null==(e=r[0])?void 0:e.trim())||"";if(l.startsWith("infographic ")){let e=l.substring(12).trim();e&&o.includes(e)?G(e):G("")}else G("");let a=r.find(e=>e.trim().startsWith("theme "));if(a){let e=a.trim().substring(6).trim();e&&c.includes(e)?O(e):O("")}else O("");let n=(e=>{var t;let r=k(e.split("\n"));return null!=(t=null==r?void 0:r.value)?t:""})(t);n&&v.includes(n)?q(n):q("")},[t,o,c,v]),(0,d.useEffect)(()=>{let e=C(B(t));if(!e)return;let l=E(t);if(!l)return;let a=F(e,l);if(a!==l)return void r(I(t,a));L(e,a)},[t,r]);let K=(0,d.useCallback)(e=>{let t=e.state.doc.toString(),{errors:r,options:l}=(0,m.parseSyntax)(t),a=r.map(t=>{let r=t.line-1,l=e.state.doc.line(Math.max(1,Math.min(r+1,e.state.doc.lines)));return{from:l.from,to:l.to,severity:"error",message:"".concat(t.code,": ").concat(t.message).concat(t.raw?" (".concat(t.raw,")"):"")}});if(l.template&&!o.includes(l.template)){let r=t.split("\n").findIndex(e=>e.trim().startsWith("infographic ")&&e.includes(l.template));if(r>=0){let t=e.state.doc.line(r+1);a.push({from:t.from,to:t.to,severity:"error",message:'unknown_template: Template "'.concat(l.template,'" not found. Available templates can be selected from the dropdown.')})}}return a},[o]);return(0,l.jsxs)("div",{className:"bg-card dark:bg-card-dark rounded-2xl shadow-nav dark:shadow-nav-dark flex flex-col h-full overflow-hidden border border-border dark:border-border-dark",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 px-5 py-4 bg-wash dark:bg-wash-dark border-b border-border dark:border-border-dark",children:[(0,l.jsxs)("h2",{className:"text-base font-semibold text-primary dark:text-primary-dark flex items-center gap-2",children:[(0,l.jsx)("span",{className:"w-2 h-2 rounded-full bg-link animate-pulse"}),i.title]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("button",{onClick:()=>{r("")},title:i.clearButton,className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-border dark:border-border-dark text-secondary dark:text-secondary-dark bg-white/80 dark:bg-gray-900/60 hover:border-red-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition","aria-label":i.clearButton,children:(0,l.jsx)(f.g,{className:"w-4 h-4"})}),(0,l.jsx)("button",{onClick:n,title:i.resetButton,className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-border dark:border-border-dark text-secondary dark:text-secondary-dark bg-white/80 dark:bg-gray-900/60 hover:border-link hover:text-link hover:bg-link/10 dark:hover:border-link-dark dark:hover:text-link-dark transition","aria-label":i.resetButton,children:(0,l.jsx)(b.j,{className:"w-4 h-4"})}),(0,l.jsx)("div",{className:"w-[1px] h-5 bg-border dark:bg-border-dark self-center mx-1"}),(0,l.jsxs)("button",{onClick:a,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold text-white rounded-full bg-gradient-to-r from-link to-link/80 dark:from-link-dark dark:to-link-dark/90 shadow-sm hover:shadow-md transition",children:[(0,l.jsx)(x,{className:"w-4 h-4"}),i.shareButton]})]})]}),(0,l.jsx)("div",{className:"flex-1 relative group overflow-auto",children:(0,l.jsx)(g.B,{ariaLabel:i.editorAria,className:"h-full text-sm",language:"yaml",onChange:r,value:t,linterFn:K})}),(0,l.jsx)("div",{className:"px-5 py-4 bg-wash dark:bg-wash-dark border-t border-border dark:border-border-dark",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{htmlFor:"template-select",className:"text-xs font-semibold text-secondary dark:text-secondary-dark",children:i.templateLabel}),(0,l.jsx)(h.A,{id:"template-select",value:A||P,onChange:e=>{"string"==typeof e&&(e=>{G(e);let l=C(B(t)),a=C(e),n=function(e,t){var r;let l=e.trim(),a=t.trim();if(!l)return a?"infographic ".concat(a):"";let n=e.split("\n"),i=n.findIndex(e=>{let t=e.trim();return"infographic"===t||t.startsWith("infographic ")||"template"===t||t.startsWith("template ")});if(i<0)return a?"infographic ".concat(a,"\n").concat(e):e;let o=(null==(r=n[i].match(/^\s*/))?void 0:r[0])||"",s=n[i].trim().startsWith("template")?"template":"infographic";return n[i]=a?"".concat(o).concat(s," ").concat(a):"".concat(o).concat(s),n.join("\n")}(t,e);if(a&&l!==a){if(l){let e=F(l,E(t));e&&L(l,e)}let e=(e=>{let t=W()[e];return"string"==typeof t?t:""})(a)||(e=>{if("list"===e)return E(u);let t=N[e],r=j.get(t);return r?E(r):E(u)})(a);n=I(n,F(a,e))}r(n)})(e===P?"":e)},className:"w-full",showSearch:!0,optionFilterProp:"label",notFoundContent:i.noResults,options:y})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{htmlFor:"theme-select",className:"text-xs font-semibold text-secondary dark:text-secondary-dark",children:i.themeLabel}),(0,l.jsx)(h.A,{id:"theme-select",value:V||M,onChange:e=>{"string"==typeof e&&(e=>{O(e);let l=t.split("\n"),a=l.findIndex(e=>e.trim().startsWith("theme"));if(a>=0){var n;let t=(null==(n=l[a].match(/^\s*/))?void 0:n[0])||"";l[a]="".concat(t,"theme ").concat(e)}else{let t=w(l);l.splice(t,0,"theme ".concat(e))}r(l.join("\n"))})(e===M?"":e)},className:"w-full",showSearch:!0,optionFilterProp:"label",notFoundContent:i.noResults,options:S})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)("label",{htmlFor:"palette-select",className:"text-xs font-semibold text-secondary dark:text-secondary-dark",children:i.paletteLabel}),(0,l.jsx)(h.A,{id:"palette-select",value:U||R,onChange:e=>{if("string"==typeof e){var l;q(l=e===R?"":e),r(((e,t)=>{let r=e.split("\n"),l=k(r);if(!t)return l&&r.splice(l.lineIndex,l.blockEnd-l.lineIndex),r.join("\n");if(l)return r.splice(l.lineIndex,l.blockEnd-l.lineIndex,"".concat(l.indent,"palette ").concat(t)),r.join("\n");let a=r.findIndex(e=>e.trim().startsWith("theme"));if(a>=0){var n;let e=(null==(n=r[a].match(/^\s*/))?void 0:n[0])||"";return r.splice(a+1,0,"".concat(e,"  palette ").concat(t)),r.join("\n")}let i=w(r);return r.splice(i,0,"theme","  palette ".concat(t)),r.join("\n")})(t,l))}},className:"w-full",showSearch:!0,optionFilterProp:"label",notFoundContent:i.noResults,options:_})]})]})})]})}var G=r(6651),V=r(4696),O=r(2909);let U={"zh-CN":{title:"实时预览",copyButton:"复制",pngButton:"PNG",svgButton:"SVG",fullscreenButton:"全屏",exitFullscreenButton:"退出",pngExported:"PNG 已导出",svgExported:"SVG 已导出"},"en-US":{title:"Live Preview",copyButton:"Copy",pngButton:"PNG",svgButton:"SVG",fullscreenButton:"Fullscreen",exitFullscreenButton:"Exit",pngExported:"PNG exported",svgExported:"SVG exported"}};function q(e){let t,r,n,i,o,c,u,m,h,p,f,x,b,g,v,k,w,y,j,N,S,_,E,B,C,W,L,F,I,T,P,M=(0,a.c)(73),{syntax:R,onError:z,error:A,onCopySuccess:q,onExportSuccess:K}=e,D=(0,s.K)(U),[H,J]=(0,d.useState)(R),[X,Q]=(0,d.useState)(!1),Y=(0,d.useRef)(0),$=(0,d.useRef)(null);M[0]!==R?(t=()=>(Y.current&&clearTimeout(Y.current),Y.current=window.setTimeout(()=>{J(R)},300),()=>{Y.current&&clearTimeout(Y.current)}),r=[R],M[0]=R,M[1]=t,M[2]=r):(t=M[1],r=M[2]),(0,d.useEffect)(t,r),M[3]!==z?(n=e=>{z(e?e.message:null)},M[3]=z,M[4]=n):n=M[4];let Z=n;M[5]!==q?(i=async()=>{var e;await (null==(e=$.current)?void 0:e.copyToClipboard())&&q()},M[5]=q,M[6]=i):i=M[6];let ee=i;M[7]!==K||M[8]!==D.pngExported?(o=async()=>{var e;await (null==(e=$.current)?void 0:e.exportPNG()),K(D.pngExported)},M[7]=K,M[8]=D.pngExported,M[9]=o):o=M[9];let et=o;M[10]!==K||M[11]!==D.svgExported?(c=async()=>{var e;await (null==(e=$.current)?void 0:e.exportSVG()),K(D.svgExported)},M[10]=K,M[11]=D.svgExported,M[12]=c):c=M[12];let er=c;M[13]!==X?(u=()=>{let e=!X;Q(e),e?window.dispatchEvent(new CustomEvent("preview-fullscreen",{detail:{fullscreen:!0}})):window.dispatchEvent(new CustomEvent("preview-fullscreen",{detail:{fullscreen:!1}}))},M[13]=X,M[14]=u):u=M[14];let el=u;M[15]!==X?(m=()=>{let e=e=>{"Escape"===e.key&&X&&(Q(!1),window.dispatchEvent(new CustomEvent("preview-fullscreen",{detail:{fullscreen:!1}})))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},h=[X],M[15]=X,M[16]=m,M[17]=h):(m=M[16],h=M[17]),(0,d.useEffect)(m,h),M[18]!==X?(p=()=>()=>{X&&window.dispatchEvent(new CustomEvent("preview-fullscreen",{detail:{fullscreen:!1}}))},f=[X],M[18]=X,M[19]=p,M[20]=f):(p=M[19],f=M[20]),(0,d.useEffect)(p,f);let ea="bg-card dark:bg-card-dark rounded-2xl shadow-nav dark:shadow-nav-dark flex flex-col h-full overflow-hidden border border-border dark:border-border-dark transition-all duration-300 ".concat(X?"fixed inset-0 z-[1000] rounded-none":""),en="w-2 h-2 rounded-full ".concat(A?"bg-red-500":"bg-green-500");M[21]!==en?(x=(0,l.jsx)("span",{className:en}),M[21]=en,M[22]=x):x=M[22],M[23]!==x||M[24]!==D.title?(b=(0,l.jsxs)("h2",{className:"text-base font-semibold text-primary dark:text-primary-dark flex items-center gap-2",children:[x,D.title]}),M[23]=x,M[24]=D.title,M[25]=b):b=M[25],M[26]===Symbol.for("react.memo_cache_sentinel")?(g=(0,l.jsx)(G.b,{className:"w-4 h-4"}),M[26]=g):g=M[26],M[27]!==D.copyButton?(v=(0,l.jsx)("span",{className:"hidden sm:inline",children:D.copyButton}),M[27]=D.copyButton,M[28]=v):v=M[28],M[29]!==ee||M[30]!==v||M[31]!==D.copyButton?(k=(0,l.jsxs)("button",{onClick:ee,title:D.copyButton,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-secondary hover:text-link hover:bg-link/10 rounded-md transition-all","aria-label":D.copyButton,children:[g,v]}),M[29]=ee,M[30]=v,M[31]=D.copyButton,M[32]=k):k=M[32],M[33]===Symbol.for("react.memo_cache_sentinel")?(w=(0,l.jsx)("div",{className:"w-[1px] h-4 bg-border dark:bg-border-dark self-center mx-1"}),M[33]=w):w=M[33],M[34]===Symbol.for("react.memo_cache_sentinel")?(y=(0,l.jsx)(V.i,{className:"w-3.5 h-3.5"}),M[34]=y):y=M[34],M[35]!==et||M[36]!==D.pngButton?(j=(0,l.jsxs)("button",{onClick:et,className:"flex items-center gap-1 px-2 py-1.5 text-xs font-bold text-white bg-pink-500 hover:bg-pink-600 rounded transition-all","aria-label":D.pngButton,children:[y,D.pngButton]}),M[35]=et,M[36]=D.pngButton,M[37]=j):j=M[37],M[38]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsx)(V.i,{className:"w-3.5 h-3.5"}),M[38]=N):N=M[38],M[39]!==er||M[40]!==D.svgButton?(S=(0,l.jsxs)("button",{onClick:er,className:"flex items-center gap-1 px-2 py-1.5 text-xs font-bold text-white bg-indigo-500 hover:bg-indigo-600 rounded transition-all","aria-label":D.svgButton,children:[N,D.svgButton]}),M[39]=er,M[40]=D.svgButton,M[41]=S):S=M[41],M[42]===Symbol.for("react.memo_cache_sentinel")?(_=(0,l.jsx)("div",{className:"w-[1px] h-4 bg-border dark:bg-border-dark self-center mx-1"}),M[42]=_):_=M[42];let ei=X?D.exitFullscreenButton:D.fullscreenButton,eo=X?D.exitFullscreenButton:D.fullscreenButton;M[43]!==X?(E=X?(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{d:"M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zM9 9l6 6m0-6-6 6"})}):(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 4h-4m4 0l-5-5"})}),M[43]=X,M[44]=E):E=M[44];let es=X?D.exitFullscreenButton:D.fullscreenButton;return M[45]!==es?(B=(0,l.jsx)("span",{className:"hidden sm:inline",children:es}),M[45]=es,M[46]=B):B=M[46],M[47]!==el||M[48]!==ei||M[49]!==eo||M[50]!==E||M[51]!==B?(C=(0,l.jsxs)("button",{onClick:el,title:ei,className:"flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium text-secondary hover:text-link hover:bg-link/10 rounded-md transition-all","aria-label":eo,children:[E,B]}),M[47]=el,M[48]=ei,M[49]=eo,M[50]=E,M[51]=B,M[52]=C):C=M[52],M[53]!==k||M[54]!==j||M[55]!==S||M[56]!==C?(W=(0,l.jsxs)("div",{className:"flex gap-2",children:[k,w,j,S,_,C]}),M[53]=k,M[54]=j,M[55]=S,M[56]=C,M[57]=W):W=M[57],M[58]!==b||M[59]!==W?(L=(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-wash dark:bg-wash-dark border-b border-border dark:border-border-dark",children:[b,W]}),M[58]=b,M[59]=W,M[60]=L):L=M[60],M[61]!==A?(F=A&&(0,l.jsxs)("div",{className:"absolute top-4 left-4 right-4 z-10 p-3 bg-red-50/90 dark:bg-red-900/40 backdrop-blur-sm border border-red-200 dark:border-red-800 rounded-lg text-red-800 dark:text-red-200 text-sm shadow-lg",children:[(0,l.jsxs)("div",{className:"font-bold mb-1 flex items-center gap-1.5",children:[(0,l.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),"Error"]}),A]}),M[61]=A,M[62]=F):F=M[62],M[63]!==H||M[64]!==Z?(I=(0,l.jsx)("div",{className:"w-full h-full p-8 overflow-auto",children:(0,l.jsx)(O.v,{ref:$,options:H,onError:Z,enableEditor:!0,className:"w-full h-full flex items-center justify-center"})}),M[63]=H,M[64]=Z,M[65]=I):I=M[65],M[66]!==F||M[67]!==I?(T=(0,l.jsxs)("div",{className:"flex-1 relative bg-white dark:bg-gray-900 overflow-hidden flex items-center justify-center",children:[F,I]}),M[66]=F,M[67]=I,M[68]=T):T=M[68],M[69]!==ea||M[70]!==L||M[71]!==T?(P=(0,l.jsxs)("div",{className:ea,children:[L,T]}),M[69]=ea,M[70]=L,M[71]=T,M[72]=P):P=M[72],P}var K=r(278);function D(e){let t=function(e){try{let t=K.Ay.deflate(e,{level:9}),r="";for(let e=0;e<t.length;e+=8192){let l=t.subarray(e,e+8192);r+=String.fromCharCode.apply(null,l)}return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(e){return console.error("Compression error:",e),""}}(e);if(!t)return"";let r=new URL(window.location.href);return r.searchParams.set("content","pako:".concat(t)),r.toString()}let H="live-editor-syntax",J={"zh-CN":{title:"Live Editor",description:"编辑 AntV Infographic Syntax 并查看实时预览",resetButton:"重置为默认",shareButton:"分享",imageCopied:"图片已复制到剪贴板",linkCopied:"分享链接已复制到剪贴板",shareFailed:"生成分享链接失败"},"en-US":{title:"Live Editor",description:"Edit AntV Infographic Syntax and see real-time preview",resetButton:"Reset to Default",shareButton:"Share",imageCopied:"Image copied to clipboard",linkCopied:"Share link copied to clipboard",shareFailed:"Failed to generate share link"}};function X(){let e,t,r,n,m,h,p,f,x,b,g,v,k,w,y,j,N,S,_,E,B,C,W=(0,a.c)(50),L=(0,c.useRouter)(),[F,I]=(0,d.useState)(u),[T,P]=(0,d.useState)(null),[M,R]=(0,d.useState)(!1),{message:z,show:G}=(0,i.i)(2500),V=(0,s.K)(J);W[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{R(!0);let e=function(){let e=new URLSearchParams(window.location.search).get("content");return e?e.startsWith("pako:")?function(e){try{let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=t+"==".slice(0,(4-t.length%4)%4),l=atob(r),a=new Uint8Array(l.length);for(let e=0;e<l.length;e++)a[e]=l.charCodeAt(e);return K.Ay.inflate(a,{to:"string"})}catch(e){return console.error("Decompression error:",e),""}}(e.slice(5)):decodeURIComponent(e):null}();if(e)return void I(e);let t=localStorage.getItem(H);t&&I(t)},t=[],W[0]=e,W[1]=t):(e=W[0],t=W[1]),(0,d.useEffect)(e,t),W[2]!==M||W[3]!==F?(r=()=>{M&&localStorage.setItem(H,F)},n=[F,M],W[2]=M,W[3]=F,W[4]=r,W[5]=n):(r=W[4],n=W[5]),(0,d.useEffect)(r,n),W[6]!==M||W[7]!==F?(m=()=>{if(!M||!window.location.search.includes("content="))return;let e=setTimeout(()=>{let e=D(F);e&&window.history.replaceState(null,"",e)},300);return()=>clearTimeout(e)},h=[F,M],W[6]=M,W[7]=F,W[8]=m,W[9]=h):(m=W[8],h=W[9]),(0,d.useEffect)(m,h),W[10]!==L?(p=()=>{I(u),localStorage.removeItem(H),L.replace("/editor",void 0,{shallow:!0})},W[10]=L,W[11]=p):p=W[11];let O=p;W[12]!==G||W[13]!==F||W[14]!==V.linkCopied||W[15]!==V.shareFailed?(f=async()=>{let e=D(F);if(!e)return void G(V.shareFailed);try{await navigator.clipboard.writeText(e),G(V.linkCopied),window.history.replaceState(null,"",e)}catch(e){console.error("Failed to copy share link:",e),G(V.shareFailed)}},W[12]=G,W[13]=F,W[14]=V.linkCopied,W[15]=V.shareFailed,W[16]=f):f=W[16];let U=f;return W[17]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)("div",{className:"pointer-events-none absolute -left-32 -top-40 h-96 w-96 rounded-full bg-gradient-to-br from-link/20 via-link/5 to-transparent blur-3xl"}),b=(0,l.jsx)("div",{className:"pointer-events-none absolute -right-32 top-20 h-96 w-96 rounded-full bg-gradient-to-br from-purple-40/15 via-transparent to-link/5 blur-3xl"}),W[17]=x,W[18]=b):(x=W[17],b=W[18]),W[19]===Symbol.for("react.memo_cache_sentinel")?(g={opacity:0,y:20},v={opacity:1,y:0},k={duration:.6},W[19]=g,W[20]=v,W[21]=k):(g=W[19],v=W[20],k=W[21]),W[22]!==V.title?(w=(0,l.jsx)("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-display font-bold leading-tight mb-4 text-primary dark:text-primary-dark",children:V.title}),W[22]=V.title,W[23]=w):w=W[23],W[24]!==V.description?(y=(0,l.jsx)("p",{className:"text-base lg:text-lg text-secondary dark:text-secondary-dark leading-relaxed",children:V.description}),W[24]=V.description,W[25]=y):y=W[25],W[26]!==w||W[27]!==y?(j=(0,l.jsx)(o.P.header,{id:"editor-hero-anchor",className:"pt-16 pb-8 px-5 sm:px-12 max-w-7xl mx-auto text-center md:text-left relative z-10",children:(0,l.jsxs)(o.P.div,{initial:g,animate:v,transition:k,children:[w,y]})}),W[26]=w,W[27]=y,W[28]=j):j=W[28],W[29]!==O||W[30]!==U||W[31]!==F?(N=(0,l.jsx)(A,{value:F,onChange:I,onShare:U,onReset:O}),W[29]=O,W[30]=U,W[31]=F,W[32]=N):N=W[32],W[33]!==G||W[34]!==V.imageCopied?(S=()=>G(V.imageCopied),W[33]=G,W[34]=V.imageCopied,W[35]=S):S=W[35],W[36]!==T||W[37]!==G||W[38]!==F||W[39]!==S?(_=(0,l.jsx)(q,{syntax:F,onError:P,error:T,onCopySuccess:S,onExportSuccess:G}),W[36]=T,W[37]=G,W[38]=F,W[39]=S,W[40]=_):_=W[40],W[41]!==N||W[42]!==_?(E=(0,l.jsx)("div",{className:"px-5 sm:px-12 pb-10 max-w-[100rem] mx-auto relative z-10 h-[calc(100vh-220px)] min-h-[700px]",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[N,_]})}),W[41]=N,W[42]=_,W[43]=E):E=W[43],W[44]!==z?(B=(0,l.jsx)(i.z,{message:z}),W[44]=z,W[45]=B):B=W[45],W[46]!==j||W[47]!==E||W[48]!==B?(C=(0,l.jsxs)("div",{className:"relative isolate overflow-hidden min-h-screen bg-wash dark:bg-gradient-to-b dark:from-gray-95 dark:via-gray-95 dark:to-gray-90 text-primary dark:text-primary-dark selection:bg-link/20 selection:dark:bg-link-dark/20",children:[x,b,j,E,B]}),W[46]=j,W[47]=E,W[48]=B,W[49]=C):C=W[49],C}let Q={"zh-CN":{title:"编辑器"},"en-US":{title:"Live Editor"}};function Y(){let e,t,r,i,o,c,d,u=(0,a.c)(10),m=(0,s.K)(Q);return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],u[0]=e):e=u[0],u[1]===Symbol.for("react.memo_cache_sentinel")?(t=[],u[1]=t):t=u[1],u[2]!==m.title?(r={title:m.title,path:"/editor",routes:t},i={titleForTitleTag:m.title},u[2]=m.title,u[3]=r,u[4]=i):(r=u[3],i=u[4]),u[5]===Symbol.for("react.memo_cache_sentinel")?(o={hideBrandWhenHeroVisible:!0,overlayOnHome:!0,heroAnchorId:"editor-hero-anchor"},u[5]=o):o=u[5],u[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)(X,{}),u[6]=c):c=u[6],u[7]!==r||u[8]!==i?(d=(0,l.jsx)(n.Y,{toc:e,routeTree:r,meta:i,topNavOptions:o,showTitle:!1,showSidebar:!1,section:"editor",children:c}),u[7]=r,u[8]=i,u[9]=d):d=u[9],d}}},e=>{e.O(0,[451],()=>{e.E(120),e.E(892)},5),e.O(0,[212,155,824,241,35,765,593,255,792],()=>e(e.s=8966)),_N_E=e.O()}]);